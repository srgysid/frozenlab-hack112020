<h1 align="center">Цифровой ассистент персонала "Центр"</h1><br>

<h2 align="left">Web</h2><br>

Система разработана с использованием фреймворка yii2

Для запуска потребуются:
 * nginx
 * PHP>=7.2
 * Postgres>=11.0
 * composer

Система содержит 2 модуля:
* frontend
* api

В nginx необходимо настроить виртуальные хосты на папки 
* frontend/web
* api/web

Для авторизации используются следующие данные:
* Логин:  24248158
* Пароль: 123456

Пример настройки виртуальных хостов nginx и начальной (./yii init) инициализации  находится по адресу [Preparing application!](https://www.yiiframework.com/extension/yiisoft/yii2-app-advanced/doc/guide/2.0/en/start-installation#preparing-application)

СТРУКТУРА ПАПОК
-------------------

```
common
    config/              содержит общие настройки для всех модулей
console
    config/              содержит настройки для консольных приложений
    controllers/         содержит классы контроллеров (для комманд)
    migrations/          содержит миграции БД
backend
    на данный момент не используется
api
    assets/              содержит скрипты и файлы, например изображения
    config/              содержит настройки для api приложения
    controllers/         содержит классы Api контролллеров
    models/              содержит классы моделей для api
    web/                 точка входа для REST Api приложения
frontend
    assets/              содержит скрипты и файлы, например JavaScript и CSS
    config/              содержит настройки для frontend приложения
    controllers/         содержит классы Web контролллеров
    models/              содержит классы моделей для frontend
    views/               содержит файлы view для веб приложения
    web/                 точка входа для Web приложения
vendor/                  папка содержит зависимые библиотеки (появится после запуска composer install)
```

<br><h2 align="left">AI. Классификаторы для системы Цифровой ассистент персонала "Центр"</h2><br>


Для запуска потребуется:
* среда python 3.6 с установленными библиотеками из requirements.txt (pip install -r requirements.txt)
* модуль uwsgi сконфигурированный для запуска приложения из папок ai-rosatom-ass и ai-rosatom-card
* nginx настроенный на работу с модулем uwsgi


СТРУКТУРА ПАПОК
-------------------

```
train               скрипты для обучения моделей
ai-rosatom-ass      REST-API сервис для работы с моделью "Вид поручения/сообщения"
ai-rosatom-card     REST-API сервис для работы с моделью "Класс карточек"
requirements.txt    файл со списком зависимых библиотек для среды python
```

Пример запроса к сервису
```
curl --location --request POST 'https://ai-rosatom-card.welive.cloud/predict' \
--header 'Content-Type: application/json' \
--data-raw '{
    "text": "сдать отчет по подразделению"
}'
```
Пример ответа
```
[
    {
        "prob": 0.5935658710322199,
        "value": 1
    },
    {
        "prob": 0.21984376051793958,
        "value": 3
    },
    {
        "prob": 0.18659036844984048,
        "value": 2
    }
]
```

В ответе списки идентификаторов классов отсортированных по убыванию уверенности классификатора


<br><h2 align="left">Android</h2><br>
Директория "android" содержит проект для Android Studio. Для сборки и запуска потребуется версия студии не ниже 4.0
<br>
Для авторизации используются следующие данные:
* Логин:  24248158
* Пароль: 123456
